
# nn @ ubuntu in ~/Documents/school/6.824/src/main on git:master x [14:11:11] 
$ sh test-mr.sh
*** Starting wc test.
2021/06/01 14:11:38 rpc.Register: method "Done" has 1 input parameters; needs exactly three
==================
WARNING: DATA RACE
Write at 0x00c0000a8000 by goroutine 16:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:132 +0x50a
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Previous read at 0x00c0000a8000 by goroutine 18:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:110 +0x131
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 16 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d

Goroutine 18 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================
==================
WARNING: DATA RACE
Write at 0x00c0000962a0 by goroutine 17:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:202 +0x0
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:123 +0x344
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Previous write at 0x00c0000962a0 by goroutine 18:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:202 +0x0
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:123 +0x344
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 17 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d

Goroutine 18 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================
INFO[0001] Map0 finished                                
INFO[0001] Map0 finished                                
INFO[0001] Map0 finished                                
INFO[0004] Map1 finished                                
INFO[0004] Map1 finished                                
INFO[0004] Map1 finished                                
INFO[0007] Map2 finished                                
INFO[0007] Map3 finished                                
INFO[0008] Map4 finished                                
INFO[0009] Map5 finished                                
INFO[0010] Reduce0 finished                             
INFO[0011] Map7 finished                                
INFO[0011] Map6 finished                                
INFO[0012] Reduce1 finished                             
INFO[0012] Reduce3 finished                             
INFO[0013] Reduce2 finished                             
INFO[0013] Reduce4 finished                             
INFO[0014] Reduce5 finished                             
INFO[0015] Reduce7 finished                             
INFO[0015] Reduce6 finished                             
INFO[0016] Reduce8 finished                             
INFO[0017] Reduce9 finished                             
==================
WARNING: DATA RACE
Write at 0x00c0000a6058 by goroutine 14:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).ReceiveStatus()
      /home/nn/Documents/school/6.824/src/mr/master.go:73 +0x4d4
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Previous read at 0x00c0000a6058 by main goroutine:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).Done()
      /home/nn/Documents/school/6.824/src/mr/master.go:188 +0xdc
  main.main()
      /home/nn/Documents/school/6.824/src/main/mrmaster.go:27 +0xba

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================
Found 3 data race(s)
--- wc test: PASS
*** Starting indexer test.
2021/06/01 14:11:58 rpc.Register: method "Done" has 1 input parameters; needs exactly three
==================
WARNING: DATA RACE
Write at 0x00c000018080 by goroutine 15:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:132 +0x50a
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Previous read at 0x00c000018080 by goroutine 14:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:110 +0x131
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 15 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================
==================
WARNING: DATA RACE
Write at 0x00c00007a270 by goroutine 14:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:202 +0x0
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:123 +0x344
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Previous write at 0x00c00007a270 by goroutine 15:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:202 +0x0
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:123 +0x344
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d

Goroutine 15 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================
INFO[0001] Map0 finished                                
INFO[0001] Map0 finished                                
INFO[0002] Map1 finished                                
INFO[0002] Map2 finished                                
INFO[0003] Map3 finished                                
INFO[0003] Map4 finished                                
INFO[0004] Map5 finished                                
INFO[0005] Map6 finished                                
INFO[0006] Map7 finished                                
INFO[0006] Reduce0 finished                             
INFO[0007] Reduce1 finished                             
2021/06/01 14:12:05 Json decode failed, invalid character 'K' after object key
2021/06/01 14:12:06 Json decode failed, invalid character '{' after object key:value pair
mr-indexer-all mr-correct-indexer.txt differ: byte 2, line 1
--- indexer output is not the same as mr-correct-indexer.txt
--- indexer test: FAIL
==================
WARNING: DATA RACE
Read at 0x00c000244158 by goroutine 81:
  _/home/nn/Documents/school/6.824/src/mr.waitJob()
      /home/nn/Documents/school/6.824/src/mr/master.go:90 +0x2e4

Previous write at 0x00c000244158 by goroutine 14:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:144 +0x859
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 81 (running) created at:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:154 +0xa50
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 14 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================
==================
WARNING: DATA RACE
Read at 0x00c00001e038 by goroutine 81:
  _/home/nn/Documents/school/6.824/src/mr.waitJob()
      /home/nn/Documents/school/6.824/src/mr/master.go:90 +0x33b

Previous write at 0x00c00001e038 by goroutine 14:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:151 +0x9c7
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 81 (running) created at:
  _/home/nn/Documents/school/6.824/src/mr.(*Master).SendTask()
      /home/nn/Documents/school/6.824/src/mr/master.go:154 +0xa50
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:552 +0x3d
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:337 +0xd8
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:377 +0x22f

Goroutine 14 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:474 +0x4d8
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:449 +0x264
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:704 +0x512
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2448 +0xaf
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2887 +0xca
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1952 +0x87d
==================